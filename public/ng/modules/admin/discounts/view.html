<div class="transactions-history">
    <div class="transactions-title">
        <h1>Rabattkoder</h1>
    </div>

    <div class="transactions-body">
        <section id="no-transactions" ng-if="!hasDiscounts()">
            <h2>Rabattkoder</h2>
            <div>
                <img src="" alt="" />
                <h3>Du har ingen rabattkoder</h3>
                <p>For å opprette en rabattkode trykk på knappen nedenfor</p>
                <button type="button" class="barefilter-btn light-green" ng-click="addNew()">Opprett ny rabattkode</button>
            </div>
        </section>
        <section id="transactions-table" ng-if="hasDiscounts()">
            <h2>Rabattkoder
                <div class="pull-right">
                    <a class="barefilter-btn light-green" ng-click="addNew()">Opprett ny rabattkode</a>
                </div>
            </h2>
            <table>
                <thead>
                    <tr>
                        <td style="width: 5%;">Nr.</td>
                        <td style="width: 40%;">Kunde/Partner</td>
                        <td style="width: 10%;">Rabattkode</td>
                        <td style="width: 10%;">Start dato</td>
                        <td style="width: 10%;">Slutt dato</td>
                        <td style="width: 5%;">Innstillinger</td>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="discount in discounts">
                        <td>
                            <p>{{discount.id}}</p>
                        </td>
                        <td>
                            <p>{{discount.name}}</p>
                        </td>
                        <td>
                            <strong>{{discount.code}}</strong>
                        </td>
                        <td>
                            <strong>{{discount.start_date | date}}</strong>
                        </td>
                        <td>
                            <strong>{{discount.end_date | date}}</strong>
                        </td>
                        <td class="controls">
                            <button type="button" class="edit" ng-click="edit(discount)">
                                <i class="fa fa-pencil" aria-hidden="true"></i>
                            </button>
                            <button type="button" class="delete">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </div>
</div>


<div class="modal fade" id="discount-settings-modal" tabindex="-1" role="dialog">
    <div class="vertical-alignment-helper">
        <div class="modal-dialog vertical-align-center" role="document">
            <div class="modal-content">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <div class="modal-body">
                    <div class="row">

                        <div class="col-lg-12 col-md-12 transfer-description">
                            <div class='transfer-title'>
                                <h1>Rabattkode innstillinger</h2>
                            </div>
                            <hr />
                            <section id='contact-information'>
                                <h2>Kundenavn</h2>
                                <p>Skriv inn navnet på kunden som skal ha rabattkoden.</p>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <input type="text" id="customer-name" placeholder="Kundensnavn" ng-model="selectedDiscount.name">
                                    </div>
                                </div>
                            </section>
                            <hr />
                            <section id='contact-information'>
                                <h2>Rabattkode</h2>
                                <p>Skriv inn rabattkoden. Dette er rabattkoden som kunden taster inn for å få rabatt i handlekurven.</p>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <input type="text" id="discount-code" placeholder="Navn på rabattkode" ng-model="selectedDiscount.code">
                                    </div>
                                </div>
                            </section>
                            <hr />
                            <section id='contact-information'>
                                <h2>Ønsket rabatt</h2>
                                <p>Tast inn hvor mange prosent kunden skal få rabatt, f.eks 20.</p>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <input type="text" id="amount-of-discount" placeholder="Antall rabatt" ng-model="selectedDiscount.value">
                                    </div>
                                </div>
                            </section>
                            <hr />
                            <section id='contact-information'>
                                <h2>Start dato</h2>
                                <p>Velg dato på når rabattkoden skal tre i kraft</p>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <input type="date" id="start-date" placeholder="Start dato" ng-model="selectedDiscount.start_date">
                                    </div>
                                </div>
                            </section>
                            <hr />
                            <section id='contact-information'>
                                <h2>Slutt dato</h2>
                                <p>Velg dato på når rabattkoden skal avsluttes automatisk</p>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <input type="date" id="end-date" placeholder="Slutt dato" ng-model="selectedDiscount.end_date">
                                    </div>
                                </div>
                            </section>
                            <hr />
                            <button ng-if="isAddingNew" type="submit" class="barefilter-btn light-green" ng-click="save()">lagre endringer</button>
                            <button ng-if="!isAddingNew" type="submit" class="barefilter-btn light-green" ng-click="update()">lagre endringer</button>
                        </div>
                    </div>
                </div>

            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
</div><!-- /.modal -->
